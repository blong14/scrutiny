{% extends "base.html" %}
{% block page_styles %}
    <style>
        #news article form {
            border: none;
            box-shadow: none;
        }
        #news article form small {
            color: var(--color-text-primary);
        }
        #news .selected {
            color: var(--color-success)
        }
        #news input[type="submit"] {
            background: none!important;
            border: none;
            color: var(--color-link);
            cursor: pointer;
            display: inline-block;
            font-size: large;
            font-weight: bold;
            padding: 0!important;
            text-decoration: underline;
        }
    </style>
{% endblock %}
{% block page_content %}
    <section>
        <h1>Current Feeds</h1>
    </section>
    <section>
        <nav>
            <ul>
                {% for id, title in items.items %}
                    <li data-feed="{{ id }}">
                        <a title="Read News"
                           href="{% url 'news.feed_view' %}?feed={{ id }}"
                           data-turbo-frame="feed-container">{{ title }}</a>
                    </li>
                {% endfor %}
            </ul>
        </nav>
    </section>
    <section>
        {% include "news/list.html" with id=feed.id title=feed.title items=feed.items %}
    </section>
    <section>
        <turbo-frame id="news-container">
        <dialog>
            <article>
                <header>
                    <h3>News Summary</h3>
                </header>
                <section id="news-summary">
                    <p>Loading...</p>
                </section>
            </article>
            <form method="dialog">
                <button>close</button>
            </form>
        </dialog>
        </turbo-frame>
    </section>
    <script>{% include "news/list.js" with topic=topic %}</script>
{% endblock %}
